@{
    ViewData["Title"] = "Welcome";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
</div>

<div id="mapDiv" class="container" style="display: inline-block; height: 30%; width: 30%;"></div>

<div class="container" id='map' style="height: 550px;"></div>

@section Scripts    {
    <script type="text/javascript">
        function initMap() {
            $(document).ready(function () {
                var map, infoWindow;

                map = new google.maps.Map(document.getElementById('map'), {
                    center: { lat: -34.397, lng: 150.644 },
                    zoom: 11
                });
                infoWindow = new google.maps.InfoWindow;

                // Try HTML5 geolocation.

                if (!navigator.geolocation) {
                    handleLocationError(false, infoWindow, map.getCenter());
                    return;
                }

                navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
                    infoWindow.setContent('Location found.');
                    infoWindow.open(map);
                    map.setCenter(pos);
                }, function () {
                    handleLocationError(true, infoWindow, map.getCenter());
                });
              

                function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                    infoWindow.setPosition(pos);
                    infoWindow.setContent(browserHasGeolocation ?
                        'Error: The Geolocation service failed.' :
                        'Error: Your browser doesn\'t support geolocation.');
                    infoWindow.open(map);

                };
            });
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAHRMZHAXLXAuowcxyVA_fHwxRDqaqjX8k&callback=initMap"></script>
}






